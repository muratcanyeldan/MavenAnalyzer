{"ast":null,"code":"import React,{useMemo}from'react';import{ResponsivePie}from'@nivo/pie';import{Box,Typography,CircularProgress}from'@mui/material';/**\n * Dependency Status Pie Chart component using Nivo\n * \n * @param {Object} props - Component props\n * @param {Object} props.data - Either analysis data object or pie chart data from API\n * @param {boolean} props.loading - Loading state\n * @param {number} props.height - Chart height in pixels\n */import{jsx as _jsx}from\"react/jsx-runtime\";const DependencyStatusChart=_ref=>{let{data,loading,height=300}=_ref;// Prepare data for the pie chart - moved to top level for Hook rule compliance\nconst chartData=useMemo(()=>{// Check if we have the new API data format (array of entries)\nif(data!==null&&data!==void 0&&data.data&&Array.isArray(data.data)){// We have data from the chart data API\nreturn data.data;}// Fallback to the old format (analysis object)\nif(!data||!data.upToDateDependencies){return[];}return[{id:'Up-to-date',label:'Up-to-date',value:data.upToDateDependencies||0,color:'#4caf50'// green\n},{id:'Outdated',label:'Outdated',value:data.outdatedDependencies||0,color:'#ff9800'// orange\n},{id:'Unknown',label:'Unknown',value:data.unidentifiedDependencies||0,color:'#9e9e9e'// grey\n}].filter(item=>item.value>0);// Only include items with values > 0\n},[data]);// Return loading indicator if data is loading\nif(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height},children:/*#__PURE__*/_jsx(CircularProgress,{})});}// Return message if no data available\nif(!(data!==null&&data!==void 0&&data.data)&&!(data!==null&&data!==void 0&&data.upToDateDependencies)||chartData.length===0){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height,p:2},children:/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"No dependency data available\"})});}return/*#__PURE__*/_jsx(Box,{sx:{height},children:/*#__PURE__*/_jsx(ResponsivePie,{data:chartData,margin:{top:40,right:80,bottom:40,left:80},innerRadius:0.5,padAngle:0.7,cornerRadius:3,activeOuterRadiusOffset:8,borderWidth:1,borderColor:{from:'color',modifiers:[['darker',0.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:\"#333333\",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:'color'},arcLabelsSkipAngle:10,arcLabelsTextColor:{from:'color',modifiers:[['darker',2]]},colors:{datum:'data.color'},legends:[{anchor:'right',direction:'column',justify:false,translateX:30,translateY:0,itemsSpacing:0,itemWidth:100,itemHeight:26,itemTextColor:'#999',itemDirection:'left-to-right',itemOpacity:1,symbolSize:18,symbolShape:'circle'}]})});};export default DependencyStatusChart;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/yeldan/IdeaProjects/MavenAnalyzer/MavenAnalyzerUI/src/components/charts/LicenseDistributionChart.js\";\nimport React, { useMemo } from 'react';\nimport { ResponsivePie } from '@nivo/pie';\nimport { Box, Typography, CircularProgress } from '@mui/material';\n\n/**\n * License Distribution Pie Chart component using Nivo\n * \n * @param {Object} props - Component props\n * @param {Object} props.data - Either analysis data object or pie chart data from API\n * @param {boolean} props.loading - Loading state\n * @param {number} props.height - Chart height in pixels\n * @param {boolean} props.showLegend - Whether to show the legend\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LicenseDistributionChart = ({\n  data,\n  loading,\n  height = 300,\n  showLegend = true\n}) => {\n  // Prepare data for the pie chart - moved to top level for Hook rule compliance\n  const chartData = useMemo(() => {\n    // Check if we have the new API data format (array of entries)\n    if (data !== null && data !== void 0 && data.data && Array.isArray(data.data)) {\n      // We have data from the chart data API\n      return data.data;\n    }\n\n    // Fallback to the old format (analysis object with dependencies)\n    if (!data || !data.dependencies || !Array.isArray(data.dependencies)) {\n      return [];\n    }\n\n    // Count licenses\n    const licenseCounts = {};\n    data.dependencies.forEach(dependency => {\n      const license = dependency.license || 'Unknown';\n      licenseCounts[license] = (licenseCounts[license] || 0) + 1;\n    });\n\n    // Convert to chart format\n    return Object.entries(licenseCounts).filter(([_, count]) => count > 0) // Only include non-zero values\n    .map(([license, count]) => {\n      // Generate a consistent color based on the license name (simple hash)\n      const hash = license.split('').reduce((acc, char) => {\n        return char.charCodeAt(0) + ((acc << 5) - acc);\n      }, 0);\n      const color = `hsl(${Math.abs(hash) % 360}, 70%, 50%)`;\n      return {\n        id: license,\n        label: license,\n        value: count,\n        color: color\n      };\n    });\n  }, [data]);\n\n  // Return loading indicator if data is loading\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Return message if no data available\n  if (chartData.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height,\n        p: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"text.secondary\",\n        children: \"No license data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      height\n    },\n    children: /*#__PURE__*/_jsxDEV(ResponsivePie, {\n      data: chartData,\n      margin: {\n        top: 40,\n        right: showLegend ? 120 : 40,\n        bottom: 40,\n        left: 40\n      },\n      innerRadius: 0.5,\n      padAngle: 0.7,\n      cornerRadius: 3,\n      activeOuterRadiusOffset: 8,\n      borderWidth: 1,\n      borderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.2]]\n      },\n      arcLinkLabelsSkipAngle: 10,\n      arcLinkLabelsTextColor: \"#333333\",\n      arcLinkLabelsThickness: 2,\n      arcLinkLabelsColor: {\n        from: 'color'\n      },\n      arcLabelsSkipAngle: 10,\n      arcLabelsTextColor: {\n        from: 'color',\n        modifiers: [['darker', 2]]\n      },\n      enableArcLabels: false,\n      colors: {\n        datum: 'data.color'\n      },\n      legends: showLegend ? [{\n        anchor: 'right',\n        direction: 'column',\n        justify: false,\n        translateX: 30,\n        translateY: 0,\n        itemsSpacing: 5,\n        itemWidth: 85,\n        itemHeight: 20,\n        itemTextColor: '#666',\n        itemDirection: 'left-to-right',\n        itemOpacity: 1,\n        symbolSize: 15,\n        symbolShape: 'circle'\n      }] : []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\nexport default LicenseDistributionChart;","map":{"version":3,"names":["React","useMemo","ResponsivePie","Box","Typography","CircularProgress","jsxDEV","_jsxDEV","LicenseDistributionChart","data","loading","height","showLegend","chartData","Array","isArray","dependencies","licenseCounts","forEach","dependency","license","Object","entries","filter","_","count","map","hash","split","reduce","acc","char","charCodeAt","color","Math","abs","id","label","value","sx","display","justifyContent","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","length","p","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","borderWidth","borderColor","from","modifiers","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsSkipAngle","arcLabelsTextColor","enableArcLabels","colors","datum","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemTextColor","itemDirection","itemOpacity","symbolSize","symbolShape"],"sources":["/Users/yeldan/IdeaProjects/MavenAnalyzer/MavenAnalyzerUI/src/components/charts/LicenseDistributionChart.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { ResponsivePie } from '@nivo/pie';\nimport { Box, Typography, CircularProgress } from '@mui/material';\n\n/**\n * License Distribution Pie Chart component using Nivo\n * \n * @param {Object} props - Component props\n * @param {Object} props.data - Either analysis data object or pie chart data from API\n * @param {boolean} props.loading - Loading state\n * @param {number} props.height - Chart height in pixels\n * @param {boolean} props.showLegend - Whether to show the legend\n */\nconst LicenseDistributionChart = ({ data, loading, height = 300, showLegend = true }) => {\n  // Prepare data for the pie chart - moved to top level for Hook rule compliance\n  const chartData = useMemo(() => {\n    // Check if we have the new API data format (array of entries)\n    if (data?.data && Array.isArray(data.data)) {\n      // We have data from the chart data API\n      return data.data;\n    }\n    \n    // Fallback to the old format (analysis object with dependencies)\n    if (!data || !data.dependencies || !Array.isArray(data.dependencies)) {\n      return [];\n    }\n\n    // Count licenses\n    const licenseCounts = {};\n    data.dependencies.forEach(dependency => {\n      const license = dependency.license || 'Unknown';\n      licenseCounts[license] = (licenseCounts[license] || 0) + 1;\n    });\n\n    // Convert to chart format\n    return Object.entries(licenseCounts)\n      .filter(([_, count]) => count > 0) // Only include non-zero values\n      .map(([license, count]) => {\n        // Generate a consistent color based on the license name (simple hash)\n        const hash = license.split('').reduce((acc, char) => {\n          return char.charCodeAt(0) + ((acc << 5) - acc);\n        }, 0);\n        const color = `hsl(${Math.abs(hash) % 360}, 70%, 50%)`;\n        \n        return {\n          id: license,\n          label: license,\n          value: count,\n          color: color\n        };\n      });\n  }, [data]);\n\n  // Return loading indicator if data is loading\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  // Return message if no data available\n  if (chartData.length === 0) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height, p: 2 }}>\n        <Typography color=\"text.secondary\">No license data available</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ height }}>\n      <ResponsivePie\n        data={chartData}\n        margin={{ top: 40, right: showLegend ? 120 : 40, bottom: 40, left: 40 }}\n        innerRadius={0.5}\n        padAngle={0.7}\n        cornerRadius={3}\n        activeOuterRadiusOffset={8}\n        borderWidth={1}\n        borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\n        arcLinkLabelsSkipAngle={10}\n        arcLinkLabelsTextColor=\"#333333\"\n        arcLinkLabelsThickness={2}\n        arcLinkLabelsColor={{ from: 'color' }}\n        arcLabelsSkipAngle={10}\n        arcLabelsTextColor={{ from: 'color', modifiers: [['darker', 2]] }}\n        enableArcLabels={false}\n        colors={{ datum: 'data.color' }}\n        legends={showLegend ? [\n          {\n            anchor: 'right',\n            direction: 'column',\n            justify: false,\n            translateX: 30,\n            translateY: 0,\n            itemsSpacing: 5,\n            itemWidth: 85,\n            itemHeight: 20,\n            itemTextColor: '#666',\n            itemDirection: 'left-to-right',\n            itemOpacity: 1,\n            symbolSize: 15,\n            symbolShape: 'circle'\n          }\n        ] : []}\n      />\n    </Box>\n  );\n};\n\nexport default LicenseDistributionChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
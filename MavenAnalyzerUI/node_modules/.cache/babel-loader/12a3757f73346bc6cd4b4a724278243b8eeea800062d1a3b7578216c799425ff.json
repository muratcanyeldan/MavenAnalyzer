{"ast":null,"code":"import { memo as t, useRef as i, useMemo as o, createContext as n, useState as r, useCallback as e, useContext as l } from \"react\";\nimport { useSpring as a, animated as c } from \"@react-spring/web\";\nimport { useTheme as s, useMotionConfig as h, useMeasure as u, useValueFormatter as d } from \"@nivo/core\";\nimport { jsx as p, jsxs as y, Fragment as f } from \"react/jsx-runtime\";\nfunction v() {\n  return v = Object.assign ? Object.assign.bind() : function (t) {\n    for (var i = 1; i < arguments.length; i++) {\n      var o = arguments[i];\n      for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n]);\n    }\n    return t;\n  }, v.apply(this, arguments);\n}\nvar x = {\n    pointerEvents: \"none\",\n    position: \"absolute\",\n    zIndex: 10,\n    top: 0,\n    left: 0\n  },\n  m = function (t, i) {\n    return \"translate(\" + t + \"px, \" + i + \"px)\";\n  },\n  b = t(function (t) {\n    var o,\n      n = t.position,\n      r = t.anchor,\n      e = t.children,\n      l = s(),\n      d = h(),\n      y = d.animate,\n      f = d.config,\n      b = u(),\n      g = b[0],\n      w = b[1],\n      T = i(!1),\n      C = void 0,\n      E = !1,\n      P = w.width > 0 && w.height > 0,\n      j = Math.round(n[0]),\n      N = Math.round(n[1]);\n    P && (\"top\" === r ? (j -= w.width / 2, N -= w.height + 14) : \"right\" === r ? (j += 14, N -= w.height / 2) : \"bottom\" === r ? (j -= w.width / 2, N += 14) : \"left\" === r ? (j -= w.width + 14, N -= w.height / 2) : \"center\" === r && (j -= w.width / 2, N -= w.height / 2), C = {\n      transform: m(j, N)\n    }, T.current || (E = !0), T.current = [j, N]);\n    var O = a({\n        to: C,\n        config: f,\n        immediate: !y || E\n      }),\n      V = v({}, x, l.tooltip.wrapper, {\n        transform: null != (o = O.transform) ? o : m(j, N),\n        opacity: O.transform ? 1 : 0\n      });\n    return p(c.div, {\n      ref: g,\n      style: V,\n      children: e\n    });\n  });\nb.displayName = \"TooltipWrapper\";\nvar g = t(function (t) {\n    var i = t.size,\n      o = void 0 === i ? 12 : i,\n      n = t.color,\n      r = t.style;\n    return p(\"span\", {\n      style: v({\n        display: \"block\",\n        width: o,\n        height: o,\n        background: n\n      }, void 0 === r ? {} : r)\n    });\n  }),\n  w = t(function (t) {\n    var i,\n      o = t.id,\n      n = t.value,\n      r = t.format,\n      e = t.enableChip,\n      l = void 0 !== e && e,\n      a = t.color,\n      c = t.renderContent,\n      h = s(),\n      u = d(r);\n    if (\"function\" == typeof c) i = c();else {\n      var f = n;\n      void 0 !== u && void 0 !== f && (f = u(f)), i = y(\"div\", {\n        style: h.tooltip.basic,\n        children: [l && p(g, {\n          color: a,\n          style: h.tooltip.chip\n        }), void 0 !== f ? y(\"span\", {\n          children: [o, \": \", p(\"strong\", {\n            children: \"\" + f\n          })]\n        }) : o]\n      });\n    }\n    return p(\"div\", {\n      style: h.tooltip.container,\n      children: i\n    });\n  }),\n  T = {\n    width: \"100%\",\n    borderCollapse: \"collapse\"\n  },\n  C = t(function (t) {\n    var i,\n      o = t.title,\n      n = t.rows,\n      r = void 0 === n ? [] : n,\n      e = t.renderContent,\n      l = s();\n    return r.length ? (i = \"function\" == typeof e ? e() : y(\"div\", {\n      children: [o && o, p(\"table\", {\n        style: v({}, T, l.tooltip.table),\n        children: p(\"tbody\", {\n          children: r.map(function (t, i) {\n            return p(\"tr\", {\n              children: t.map(function (t, i) {\n                return p(\"td\", {\n                  style: l.tooltip.tableCell,\n                  children: t\n                }, i);\n              })\n            }, i);\n          })\n        })\n      })]\n    }), p(\"div\", {\n      style: l.tooltip.container,\n      children: i\n    })) : null;\n  });\nC.displayName = \"TableTooltip\";\nvar E = t(function (t) {\n  var i = t.x0,\n    n = t.x1,\n    r = t.y0,\n    e = t.y1,\n    l = s(),\n    u = h(),\n    d = u.animate,\n    y = u.config,\n    f = o(function () {\n      return v({}, l.crosshair.line, {\n        pointerEvents: \"none\"\n      });\n    }, [l.crosshair.line]),\n    x = a({\n      x1: i,\n      x2: n,\n      y1: r,\n      y2: e,\n      config: y,\n      immediate: !d\n    });\n  return p(c.line, v({}, x, {\n    fill: \"none\",\n    style: f\n  }));\n});\nE.displayName = \"CrosshairLine\";\nvar P = t(function (t) {\n  var i,\n    o,\n    n = t.width,\n    r = t.height,\n    e = t.type,\n    l = t.x,\n    a = t.y;\n  return \"cross\" === e ? (i = {\n    x0: l,\n    x1: l,\n    y0: 0,\n    y1: r\n  }, o = {\n    x0: 0,\n    x1: n,\n    y0: a,\n    y1: a\n  }) : \"top-left\" === e ? (i = {\n    x0: l,\n    x1: l,\n    y0: 0,\n    y1: a\n  }, o = {\n    x0: 0,\n    x1: l,\n    y0: a,\n    y1: a\n  }) : \"top\" === e ? i = {\n    x0: l,\n    x1: l,\n    y0: 0,\n    y1: a\n  } : \"top-right\" === e ? (i = {\n    x0: l,\n    x1: l,\n    y0: 0,\n    y1: a\n  }, o = {\n    x0: l,\n    x1: n,\n    y0: a,\n    y1: a\n  }) : \"right\" === e ? o = {\n    x0: l,\n    x1: n,\n    y0: a,\n    y1: a\n  } : \"bottom-right\" === e ? (i = {\n    x0: l,\n    x1: l,\n    y0: a,\n    y1: r\n  }, o = {\n    x0: l,\n    x1: n,\n    y0: a,\n    y1: a\n  }) : \"bottom\" === e ? i = {\n    x0: l,\n    x1: l,\n    y0: a,\n    y1: r\n  } : \"bottom-left\" === e ? (i = {\n    x0: l,\n    x1: l,\n    y0: a,\n    y1: r\n  }, o = {\n    x0: 0,\n    x1: l,\n    y0: a,\n    y1: a\n  }) : \"left\" === e ? o = {\n    x0: 0,\n    x1: l,\n    y0: a,\n    y1: a\n  } : \"x\" === e ? i = {\n    x0: l,\n    x1: l,\n    y0: 0,\n    y1: r\n  } : \"y\" === e && (o = {\n    x0: 0,\n    x1: n,\n    y0: a,\n    y1: a\n  }), y(f, {\n    children: [i && p(E, {\n      x0: i.x0,\n      x1: i.x1,\n      y0: i.y0,\n      y1: i.y1\n    }), o && p(E, {\n      x0: o.x0,\n      x1: o.x1,\n      y0: o.y0,\n      y1: o.y1\n    })]\n  });\n});\nP.displayName = \"Crosshair\";\nvar j = n({\n    showTooltipAt: function () {},\n    showTooltipFromEvent: function () {},\n    hideTooltip: function () {}\n  }),\n  N = {\n    isVisible: !1,\n    position: [null, null],\n    content: null,\n    anchor: null\n  },\n  O = n(N),\n  V = function (t) {\n    var i = r(N),\n      n = i[0],\n      l = i[1],\n      a = e(function (t, i, o) {\n        var n = i[0],\n          r = i[1];\n        void 0 === o && (o = \"top\"), l({\n          isVisible: !0,\n          position: [n, r],\n          anchor: o,\n          content: t\n        });\n      }, [l]),\n      c = e(function (i, o, n) {\n        void 0 === n && (n = \"top\");\n        var r = t.current.getBoundingClientRect(),\n          e = t.current.offsetWidth,\n          a = e === r.width ? 1 : e / r.width,\n          c = \"touches\" in o ? o.touches[0] : o,\n          s = c.clientX,\n          h = c.clientY,\n          u = (s - r.left) * a,\n          d = (h - r.top) * a;\n        \"left\" !== n && \"right\" !== n || (n = u < r.width / 2 ? \"right\" : \"left\"), l({\n          isVisible: !0,\n          position: [u, d],\n          anchor: n,\n          content: i\n        });\n      }, [t, l]),\n      s = e(function () {\n        l(N);\n      }, [l]);\n    return {\n      actions: o(function () {\n        return {\n          showTooltipAt: a,\n          showTooltipFromEvent: c,\n          hideTooltip: s\n        };\n      }, [a, c, s]),\n      state: n\n    };\n  },\n  k = function () {\n    var t = l(j);\n    if (void 0 === t) throw new Error(\"useTooltip must be used within a TooltipProvider\");\n    return t;\n  },\n  z = function () {\n    var t = l(O);\n    if (void 0 === t) throw new Error(\"useTooltipState must be used within a TooltipProvider\");\n    return t;\n  },\n  A = function (t) {\n    return t.isVisible;\n  },\n  F = function () {\n    var t = z();\n    return A(t) ? p(b, {\n      position: t.position,\n      anchor: t.anchor,\n      children: t.content\n    }) : null;\n  },\n  M = function (t) {\n    var i = t.container,\n      o = t.children,\n      n = V(i),\n      r = n.actions,\n      e = n.state;\n    return p(j.Provider, {\n      value: r,\n      children: p(O.Provider, {\n        value: e,\n        children: o\n      })\n    });\n  };\nexport { w as BasicTooltip, g as Chip, P as Crosshair, C as TableTooltip, F as Tooltip, j as TooltipActionsContext, M as TooltipProvider, O as TooltipStateContext, b as TooltipWrapper, N as hiddenTooltipState, A as isVisibleTooltipState, k as useTooltip, V as useTooltipHandlers, z as useTooltipState };\n//# sourceMappingURL=nivo-tooltip.es.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}